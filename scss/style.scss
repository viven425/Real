@use "./variable" as *;
@use "./function" as *;
@use "./reset";
@use "./icon";
@use "./keyframe";

@import url("https://fonts.googleapis.com/css2?family=Emblema+One&family=LXGW+WenKai+Mono+TC&family=LXGW+WenKai+TC&family=Noto+Sans+JP:wght@100..900&family=Noto+Sans+KR:wght@100..900&family=Noto+Serif+KR:wght@200..900&family=Piazzolla:ital,opsz,wght@0,8..30,100..900;1,8..30,100..900&display=swap");


// --- CSS 變數定義 (將 Sass 變數轉換為 CSS 變數) ---
// 這些變數會在編譯後的 CSS 中定義在 :root 元素上
// 將 Sass 變數轉換為 CSS 變數，供瀏覽器在運行時使用，
// 也供那些不需要 Sass 函數處理的佔位符使用
:root {
    --primary: #{$primary};
    --secondary-bg: #{$secondary-bg};
    --text-light-grey: #{$text-light-grey};
    --text-dark-grey: #{$text-dark-grey};
    --white-color: #{$white-color};
    --grey-border: #{$grey-border};
    --category-bg: #{$category-bg};
    --category-text: #{$category-text};
    --font-logo: #{$font-logo};
    --font-body: #{$font-body};
}
  body {
    font-family: var(--font-body); // 使用 CSS 變數
    color: var(--text-dark-grey); // 使用 CSS 變數
    line-height: 1.6;
    background-color: var(--white-color); // 使用 CSS 變數
  }

  a {
    text-decoration: none;
    color: inherit;
  }

.nav-wrapper {
    @extend %nav-outer-wrapper;
    height: 60px;
    background-color: var(--white-color);

    // --- 平板版樣式 (min-width: 768px) ---
    @include media-md {
        height: 60px;
        // 在平板版，nav-wrapper 應該繼續讓內容居中，因為漢堡按鈕是隱藏的
        justify-content: center; // *** 新增或確保此行 ***
    }

    // --- 手機版樣式 (max-width: 767px) ---
    @include media-sm {
        height: 50px;
        padding: 0 20px;
        // 在手機版，nav-wrapper 應該讓內容 (即 nav-bar) 靠右，以便漢堡按鈕對齊右側
        justify-content: flex-start; // *** 修改此行，從 flex-start 改為 flex-end ***
    }
}

.nav-bar {
    @extend %nav-bar-wrapper;
    // 桌面版預設樣式
    justify-content: center; 
    align-items: center; // 垂直居中

    // --- 平板版樣式 ---
    @include media-md {
        max-width: 960px;
        justify-content: flex-end; // 平板版保持菜單靠右
    }

    // --- 手機版樣式 (max-width: 767px) ---
    @include media-sm {
        // 手機版：nav-bar 內部只顯示漢堡按鈕，讓它靠右
        // nav-bar 會跟隨 nav-wrapper 的 justify-content: flex-end
        justify-content: flex-end; // *** 修改此行，從 flex-start 改為 flex-end ***

         // 為了確保手機版只有漢堡按鈕顯示在 nav-bar 內，菜單要隱藏
        .menu {
            display: none; // *** 確保手機版 nav-bar 內的菜單預設隱藏 ***
        }
        .hamburger-icon {
            display: flex; // *** 確保手機版 nav-bar 內的漢堡按鈕預設顯示 ***
        }
    }
    }


.hamburger-icon {
    display: none; // *** 關鍵點：這是桌面版和所有更大螢幕的預設值，確保漢堡按鈕隱藏 ***

    // --- 手機版 (max-width: 767px) ---
    @include media-sm {
        display: flex ;// 手機版顯示漢堡按鈕 (使用 flex 佈局)
        flex-direction: column;
        justify-content: space-around;
        width: 30px;
        height: 25px;
        background: transparent;
        border: none;
        cursor: pointer;
        padding: 0;
        z-index: 20; // 確保在菜單上方
    }
}

.menu {
    @extend %menu-wrapper;
    margin: 0;
    padding: 0;

    // --- 平板版樣式 ---
    @include media-md {
        gap: 30px;
        display: flex; // 平板版菜單預設顯示
    }

    // --- 手機版 (max-width: 767px) ---
    @include media-sm {
        display: none; // 手機版預設隱藏菜單
        flex-direction: column;
        position: absolute; // 絕對定位，讓菜單從上方或側面滑出
        top: 50px; // 根據手機版 nav-wrapper 高度來設定 (與 nav-wrapper 高度保持一致)
        right: 0;
        left: unset;
        width: 100%;
        height: calc(100vh - 50px);
        background-color: var(--white-color);
        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        padding: 20px;
        text-align: center;
        overflow-y: auto;
        z-index: 10;
        transition: transform 0.3s ease-out, opacity 0.3s ease-out;
        transform: translateY(-100%);
        opacity: 0;
    }
}

.menu-item {
    @extend %menu-item-flex-align;

    @include media-sm {
        margin: 10px 0;
    }
}

.menu-link-item {
    @extend %nav-text-style;
    position: relative;

    &::after {
        content: '';
        position: absolute;
        bottom: -5px;
        left: 0;
        width: 100%;
        height: 2px;
        background-color: var(--primary);
        display: block;
        transform: scaleX(0);
        transition: transform 0.3s ease-out;
    }

    &:hover::after {
        transform: scaleX(1);
    }
}

---
// ## Logo 區塊 (在 nav-bar 下方，獨立於 nav-bar)

.logo-wrapper {
    width: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 20px 0;
}

.logo-link {
    text-decoration: none;
    color: inherit;
    display: block;
    margin-bottom: 10px;
}

#debut {
    font-family: var(--font-logo);
    font-size: 40px;
    font-weight: bold;
    color: var(--primary);
    text-align: center;

    @include media-md {
        font-size: 32px;
    }

    @include media-sm {
        font-size: 28px;
    }
}

.banner1 {
    text-align: center;
    padding: 0 20px;

    p {
        margin-bottom: 5px;
        line-height: 1.5;
    }
}

// ## JavaScript 控制的菜單激活狀態

// body.menu-open {
//     // overflow: hidden;
// }

body.menu-open .menu {
    @include media-sm {
        display: flex;
        transform: translateY(0);
        opacity: 1;
    }
}

body.menu-open .hamburger-icon {
    @include media-sm {
        .bar:nth-child(1) {
            transform: translateY(11px) rotate(45deg);
        }
        .bar:nth-child(2) {
            opacity: 0;
        }
        .bar:nth-child(3) {
            transform: translateY(-11px) rotate(-45deg);
        }
    }
}